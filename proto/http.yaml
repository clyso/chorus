type: google.api.Service
config_version: 3

http:
  rules:
    # Diff service:
    - selector: chorus.Diff.Start
      post: /consistency/start
      body: "*"
    - selector: chorus.Diff.List
      get: /consistency/list
    - selector: chorus.Diff.GetReport
      get: /consistency/report
    - selector: chorus.Diff.GetReportEntries
      get: /consistency/report-entries
    - selector: chorus.Diff.DeleteReport
      put: /consistency/delete
      body: "*"
      # Chorus service:
    - selector: chorus.Chorus.GetAppVersion
      get: /version
    - selector: chorus.Chorus.GetStorages
      get: /storage
    - selector: chorus.Chorus.GetProxyCredentials
      get: /proxy
    - selector: chorus.Chorus.GetAgents
      get: /agents
      # Policy service
    - selector: chorus.Policy.AvailableBuckets
      post: /replication/list-buckets
      body: "*"
    - selector: chorus.Policy.AddReplication
      post: /replication/add
      body: "*"
    - selector: chorus.Policy.GetReplication
      post: /replication/get
      body: "*"
    - selector: chorus.Policy.ListReplications
      get: /replication
    - selector: chorus.Policy.PauseReplication
      put: /replication/pause
      body: "*"
    - selector: chorus.Policy.ResumeReplication
      put: /replication/resume
      body: "*"
    - selector: chorus.Policy.DeleteReplication
      put: /replication/delete
      body: "*"
    - selector: chorus.Policy.SwitchWithZeroDowntime
      post: /replication/switch/zero-downtime
      body: "*"
    - selector: chorus.Policy.SwitchWithDowntime
      post: /replication/switch
      body: "*"
    - selector: chorus.Policy.DeleteSwitch
      post: /replication/switch/delete
      body: "*"
    - selector: chorus.Policy.GetSwitchStatus
      post: /replication/switch/get
      body: "*"
    - selector: chorus.Policy.CompareBucket
      post: /replication/compare-bucket
      body: "*"
