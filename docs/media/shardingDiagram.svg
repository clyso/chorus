<?xml version="1.0" encoding="us-ascii" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2823px" preserveAspectRatio="none" style="width:1309px;height:2823px;background:#FFFFFF;" version="1.1" viewBox="0 0 1309 2823" width="1309px" zoomAndPan="magnify"><defs/><g><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="217" x="547.75" y="28.5352">Chorus proxy bucket sharding</text><rect fill="none" height="222.4844" style="stroke:#000000;stroke-width:1.5;" width="869.5" x="137.5" y="138.4648"/><rect fill="none" height="287.1055" style="stroke:#000000;stroke-width:1.5;" width="997" x="10" y="374.9492"/><rect fill="none" height="430.2793" style="stroke:#000000;stroke-width:1.5;" width="1166" x="137.5" y="676.0547"/><rect fill="none" height="295.416" style="stroke:#000000;stroke-width:1.5;" width="997" x="10" y="1120.334"/><rect fill="none" height="340.0371" style="stroke:#000000;stroke-width:1.5;" width="997" x="10" y="1429.75"/><rect fill="none" height="250.7949" style="stroke:#000000;stroke-width:1.5;" width="997" x="10" y="1783.7871"/><rect fill="none" height="266.1055" style="stroke:#000000;stroke-width:1.5;" width="997" x="10" y="2048.582"/><rect fill="none" height="382.3477" style="stroke:#000000;stroke-width:1.5;" width="997" x="10" y="2328.6875"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="56" x2="56" y1="121.4648" y2="2728.0352"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="179.5" x2="179.5" y1="121.4648" y2="2728.0352"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="571" x2="571" y1="121.4648" y2="2728.0352"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="692" x2="692" y1="121.4648" y2="2728.0352"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="845" x2="845" y1="121.4648" y2="2728.0352"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="962" x2="962" y1="121.4648" y2="2728.0352"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1038" x2="1038" y1="121.4648" y2="2728.0352"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1261.5" x2="1261.5" y1="121.4648" y2="2728.0352"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="20" y="118.5117">Customer</text><ellipse cx="56.5" cy="53.4766" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M56.5,61.4766 L56.5,88.4766 M43.5,69.4766 L69.5,69.4766 M56.5,88.4766 L43.5,103.4766 M56.5,88.4766 L69.5,103.4766 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="20" y="2740.5703">Customer</text><ellipse cx="56.5" cy="2752.0234" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M56.5,2760.0234 L56.5,2787.0234 M43.5,2768.0234 L69.5,2768.0234 M56.5,2787.0234 L43.5,2802.0234 M56.5,2787.0234 L69.5,2802.0234 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#99FF99" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="147.5" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="154.5" y="94.0234">Chorus</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="160" y="110.5117">Proxy</text><rect fill="#99FF99" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="147.5" y="2727.0352"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="154.5" y="2747.5703">Chorus</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="39" x="160" y="2764.0586">Proxy</text><rect fill="#FFA233" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="531" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="538" y="94.0234">S3 bucket</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="545.5" y="110.5117">'bucket'</text><rect fill="#FFA233" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="531" y="2727.0352"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="538" y="2747.5703">S3 bucket</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52" x="545.5" y="2764.0586">'bucket'</text><rect fill="#FFA233" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="622" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="629" y="94.0234">S3 bucket shard-1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="654.5" y="110.5117">'bucket-s1'</text><rect fill="#FFA233" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="141" x="622" y="2727.0352"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="127" x="629" y="2747.5703">S3 bucket shard-1</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="654.5" y="2764.0586">'bucket-s1'</text><rect fill="#FFA233" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145" x="773" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="780" y="94.0234">S3 bucke nshard-2</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="807.5" y="110.5117">'bucket-s1'</text><rect fill="#FFA233" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="145" x="773" y="2727.0352"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="131" x="780" y="2747.5703">S3 bucke nshard-2</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="76" x="807.5" y="2764.0586">'bucket-s1'</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="934.5" y="102.0234">Chorus</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="928" y="118.5117">Metadata</text><path d="M944.5,52.4883 C944.5,42.4883 962.5,42.4883 962.5,42.4883 C962.5,42.4883 980.5,42.4883 980.5,52.4883 L980.5,78.4883 C980.5,88.4883 962.5,88.4883 962.5,88.4883 C962.5,88.4883 944.5,88.4883 944.5,78.4883 L944.5,52.4883 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M944.5,52.4883 C944.5,62.4883 962.5,62.4883 962.5,62.4883 C962.5,62.4883 980.5,62.4883 980.5,52.4883 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="934.5" y="2740.5703">Chorus</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="63" x="928" y="2757.0586">Metadata</text><path d="M944.5,2770.0117 C944.5,2760.0117 962.5,2760.0117 962.5,2760.0117 C962.5,2760.0117 980.5,2760.0117 980.5,2770.0117 L980.5,2796.0117 C980.5,2806.0117 962.5,2806.0117 962.5,2806.0117 C962.5,2806.0117 944.5,2806.0117 944.5,2796.0117 L944.5,2770.0117 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M944.5,2770.0117 C944.5,2780.0117 962.5,2780.0117 962.5,2780.0117 C962.5,2780.0117 980.5,2780.0117 980.5,2770.0117 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><path d="M1012,78.4883 L1065,78.4883 C1070,78.4883 1070,99.9766 1070,99.9766 C1070,99.9766 1070,121.4648 1065,121.4648 L1012,121.4648 C1007,121.4648 1007,99.9766 1007,99.9766 C1007,99.9766 1007,78.4883 1012,78.4883 " fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1065,78.4883 C1060,78.4883 1060,99.9766 1060,99.9766 C1060,121.4648 1065,121.4648 1065,121.4648 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1017.5" y="97.0234">Task</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="1012" y="113.5117">queue</text><path d="M1012,2727.0352 L1065,2727.0352 C1070,2727.0352 1070,2748.5234 1070,2748.5234 C1070,2748.5234 1070,2770.0117 1065,2770.0117 L1012,2770.0117 C1007,2770.0117 1007,2748.5234 1007,2748.5234 C1007,2748.5234 1007,2727.0352 1012,2727.0352 " fill="#E2E2F0" style="stroke:#181818;stroke-width:0.5;"/><path d="M1065,2727.0352 C1060,2727.0352 1060,2748.5234 1060,2748.5234 C1060,2770.0117 1065,2770.0117 1065,2770.0117 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="32" x="1017.5" y="2745.5703">Task</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="43" x="1012" y="2762.0586">queue</text><rect fill="#99FF99" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="1229.5" y="73.4883"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="1236.5" y="94.0234">Chorus</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1237" y="110.5117">Worker</text><rect fill="#99FF99" height="46.9766" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="64" x="1229.5" y="2727.0352"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="50" x="1236.5" y="2747.5703">Chorus</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="1237" y="2764.0586">Worker</text><path d="M137.5,138.4648 L204.5,138.4648 L204.5,145.7754 L194.5,155.7754 L137.5,155.7754 L137.5,138.4648 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="222.4844" style="stroke:#000000;stroke-width:1.5;" width="869.5" x="137.5" y="138.4648"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="22" x="152.5" y="152.0332">init</text><polygon fill="#181818" points="559.5,173.0859,569.5,177.0859,559.5,181.0859,563.5,177.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="565.5" y1="177.0859" y2="177.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="186.5" y="172.3438">check if bucket exists</text><polygon fill="#181818" points="680.5,202.3965,690.5,206.3965,680.5,210.3965,684.5,206.3965" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="686.5" y1="206.3965" y2="206.3965"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="186.5" y="201.6543">search shards by bucket prefix</text><polygon fill="#181818" points="833.5,231.707,843.5,235.707,833.5,239.707,837.5,235.707" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="839.5" y1="235.707" y2="235.707"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="186.5" y="230.9648">search shards by bucket prefix</text><polygon fill="#181818" points="190.5,261.0176,180.5,265.0176,190.5,269.0176,186.5,265.0176" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="184.5" x2="844.5" y1="265.0176" y2="265.0176"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="196.5" y="260.2754">no shards</text><polygon fill="#181818" points="559.5,290.3281,569.5,294.3281,559.5,298.3281,563.5,294.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="565.5" y1="294.3281" y2="294.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="86" x="186.5" y="289.5859">count objects</text><polygon fill="#181818" points="190.5,319.6387,180.5,323.6387,190.5,327.6387,186.5,323.6387" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="184.5" x2="570.5" y1="323.6387" y2="323.6387"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="196.5" y="318.8965">count response</text><polygon fill="#181818" points="950.5,348.9492,960.5,352.9492,950.5,356.9492,954.5,352.9492" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="956.5" y1="352.9492" y2="352.9492"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="186.5" y="348.207">store bucket count</text><path d="M10,374.9492 L385,374.9492 L385,382.2598 L375,392.2598 L10,392.2598 L10,374.9492 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="287.1055" style="stroke:#000000;stroke-width:1.5;" width="997" x="10" y="374.9492"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="330" x="25" y="388.5176">read/write/delete/list before sharding threshold</text><polygon fill="#181818" points="167.5,409.5703,177.5,413.5703,167.5,417.5703,171.5,413.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="56.5" x2="173.5" y1="413.5703" y2="413.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="63.5" y="408.8281">r/w/d/l request</text><polygon fill="#181818" points="950.5,438.8809,960.5,442.8809,950.5,446.8809,954.5,442.8809" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="956.5" y1="442.8809" y2="442.8809"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="186.5" y="438.1387">is bucket sharded?</text><polygon fill="#181818" points="190.5,468.1914,180.5,472.1914,190.5,476.1914,186.5,472.1914" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="184.5" x2="961.5" y1="472.1914" y2="472.1914"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16" x="196.5" y="467.4492">no</text><polygon fill="#181818" points="559.5,497.502,569.5,501.502,559.5,505.502,563.5,501.502" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="565.5" y1="501.502" y2="501.502"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="368" x="186.5" y="496.7598">if write do obj HEAD to distinct obj update from obj create</text><path d="M184,514.502 L184,539.502 L509,539.502 L509,524.502 L499,514.502 L184,514.502 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M499,514.502 L499,524.502 L509,524.502 L499,514.502 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304" x="190" y="532.0703">idea: build bloom filter to reduce obj HEAD calls</text><polygon fill="#181818" points="559.5,562.123,569.5,566.123,559.5,570.123,563.5,566.123" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="565.5" y1="566.123" y2="566.123"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="186.5" y="561.3809">r/w/d/l request</text><polygon fill="#181818" points="190.5,591.4336,180.5,595.4336,190.5,599.4336,186.5,595.4336" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="184.5" x2="570.5" y1="595.4336" y2="595.4336"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="196.5" y="590.6914">r/w/d/l response</text><polygon fill="#181818" points="950.5,620.7441,960.5,624.7441,950.5,628.7441,954.5,624.7441" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="956.5" y1="624.7441" y2="624.7441"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="246" x="186.5" y="620.002">if write or delete then update obj count</text><polygon fill="#181818" points="67.5,650.0547,57.5,654.0547,67.5,658.0547,63.5,654.0547" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="61.5" x2="178.5" y1="654.0547" y2="654.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="73.5" y="649.3125">return response</text><path d="M137.5,676.0547 L444.5,676.0547 L444.5,683.3652 L434.5,693.3652 L137.5,693.3652 L137.5,676.0547 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="430.2793" style="stroke:#000000;stroke-width:1.5;" width="1166" x="137.5" y="676.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="262" x="152.5" y="689.623">sharding threshold of 'bucket' reached</text><polygon fill="#181818" points="559.5,725.9863,569.5,729.9863,559.5,733.9863,563.5,729.9863" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="565.5" y1="729.9863" y2="729.9863"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="186.5" y="709.9336">list objects to get</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="186.5" y="725.2441">name of median object</text><polygon fill="#181818" points="680.5,755.2969,690.5,759.2969,680.5,763.2969,684.5,759.2969" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="686.5" y1="759.2969" y2="759.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="197" x="186.5" y="754.5547">create a new bucket with suffix</text><polygon fill="#181818" points="559.5,784.6074,569.5,788.6074,559.5,792.6074,563.5,788.6074" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="565.5" y1="788.6074" y2="788.6074"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="186.5" y="783.8652">get meta,acl,etc...</text><polygon fill="#181818" points="680.5,813.918,690.5,817.918,680.5,821.918,684.5,817.918" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="686.5" y1="817.918" y2="817.918"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="131" x="186.5" y="813.1758">copy meta, act, etc...</text><polygon fill="#181818" points="950.5,858.5391,960.5,862.5391,950.5,866.5391,954.5,862.5391" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="956.5" y1="862.5391" y2="862.5391"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="291" x="186.5" y="842.4863">store median obj name as first obj of s1 shard</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="196" x="186.5" y="857.7969">set status sharding in progress</text><polygon fill="#181818" points="1026.5,887.8496,1036.5,891.8496,1026.5,895.8496,1030.5,891.8496" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="1032.5" y1="891.8496" y2="891.8496"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="186.5" y="887.1074">enqueue shard task</text><polygon fill="#181818" points="1049.5,917.1602,1039.5,921.1602,1049.5,925.1602,1045.5,921.1602" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1043.5" x2="1260.5" y1="921.1602" y2="921.1602"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="84" x="1055.5" y="916.418">dequeue task</text><polygon fill="#181818" points="582.5,946.4707,572.5,950.4707,582.5,954.4707,578.5,950.4707" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="576.5" x2="1260.5" y1="950.4707" y2="950.4707"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="588.5" y="945.7285">list all objects starting from median</text><polygon fill="#181818" points="1049.5,991.0918,1039.5,995.0918,1049.5,999.0918,1045.5,995.0918" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1043.5" x2="1260.5" y1="995.0918" y2="995.0918"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="126" x="1055.5" y="975.0391">create sync obj task</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="1055.5" y="990.3496">for each obj</text><polygon fill="#181818" points="1249.5,1035.7129,1259.5,1039.7129,1249.5,1043.7129,1253.5,1039.7129" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1038.5" x2="1255.5" y1="1039.7129" y2="1039.7129"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="199" x="1045.5" y="1019.6602">do copyObj if not exists in dest</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="1045.5" y="1034.9707">or createTs is less</text><polygon fill="#181818" points="973.5,1065.0234,963.5,1069.0234,973.5,1073.0234,969.5,1069.0234" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="967.5" x2="1260.5" y1="1069.0234" y2="1069.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="979.5" y="1064.2813">sharding done</text><polygon fill="#181818" points="582.5,1094.334,572.5,1098.334,582.5,1102.334,578.5,1098.334" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="576.5" x2="1260.5" y1="1098.334" y2="1098.334"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="588.5" y="1093.5918">delete all obj after median</text><path d="M10,1120.334 L259,1120.334 L259,1127.6445 L249,1137.6445 L10,1137.6445 L10,1120.334 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="295.416" style="stroke:#000000;stroke-width:1.5;" width="997" x="10" y="1120.334"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="204" x="25" y="1133.9023">write after sharding threshold</text><polygon fill="#181818" points="167.5,1154.9551,177.5,1158.9551,167.5,1162.9551,171.5,1158.9551" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="56.5" x2="173.5" y1="1158.9551" y2="1158.9551"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="82" x="63.5" y="1154.2129">write request</text><polygon fill="#181818" points="950.5,1184.2656,960.5,1188.2656,950.5,1192.2656,954.5,1188.2656" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="956.5" y1="1188.2656" y2="1188.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="186.5" y="1183.5234">is bucket sharded?</text><polygon fill="#181818" points="190.5,1213.5762,180.5,1217.5762,190.5,1221.5762,186.5,1217.5762" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="184.5" x2="961.5" y1="1217.5762" y2="1217.5762"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="240" x="196.5" y="1212.834">yes shard starts from obj name 'name'</text><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="221.5" y1="1277.5078" y2="1277.5078"/><line style="stroke:#181818;stroke-width:1.0;" x1="221.5" x2="221.5" y1="1277.5078" y2="1290.5078"/><line style="stroke:#181818;stroke-width:1.0;" x1="180.5" x2="221.5" y1="1290.5078" y2="1290.5078"/><polygon fill="#181818" points="190.5,1286.5078,180.5,1290.5078,190.5,1294.5078,186.5,1290.5078" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="186.5" y="1242.1445">is obj name more than</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="186.5" y="1257.4551">shard obj name?</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="186.5" y="1272.7656">yes</text><polygon fill="#181818" points="680.5,1315.8184,690.5,1319.8184,680.5,1323.8184,684.5,1319.8184" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="686.5" y1="1319.8184" y2="1319.8184"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="186.5" y="1315.0762">forward write req</text><polygon fill="#181818" points="190.5,1345.1289,180.5,1349.1289,190.5,1353.1289,186.5,1349.1289" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="184.5" x2="691.5" y1="1349.1289" y2="1349.1289"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="196.5" y="1344.3867">write response ok</text><polygon fill="#181818" points="950.5,1374.4395,960.5,1378.4395,950.5,1382.4395,954.5,1378.4395" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="956.5" y1="1378.4395" y2="1378.4395"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="186.5" y="1373.6973">update s1 shard obj count</text><polygon fill="#181818" points="67.5,1403.75,57.5,1407.75,67.5,1411.75,63.5,1407.75" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="61.5" x2="178.5" y1="1407.75" y2="1407.75"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="73.5" y="1403.0078">return response</text><path d="M10,1429.75 L267,1429.75 L267,1437.0605 L257,1447.0605 L10,1447.0605 L10,1429.75 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="340.0371" style="stroke:#000000;stroke-width:1.5;" width="997" x="10" y="1429.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="212" x="25" y="1443.3184">delete after sharding threshold</text><polygon fill="#181818" points="167.5,1464.3711,177.5,1468.3711,167.5,1472.3711,171.5,1468.3711" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="56.5" x2="173.5" y1="1468.3711" y2="1468.3711"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="89" x="63.5" y="1463.6289">delete request</text><polygon fill="#181818" points="950.5,1493.6816,960.5,1497.6816,950.5,1501.6816,954.5,1497.6816" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="956.5" y1="1497.6816" y2="1497.6816"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271" x="186.5" y="1492.9395">is bucket sharded? is sharding in progress?</text><polygon fill="#181818" points="190.5,1522.9922,180.5,1526.9922,190.5,1530.9922,186.5,1526.9922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="184.5" x2="961.5" y1="1526.9922" y2="1526.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="273" x="196.5" y="1522.25">yes, yes, shard starts from obj name 'name'</text><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="221.5" y1="1586.9238" y2="1586.9238"/><line style="stroke:#181818;stroke-width:1.0;" x1="221.5" x2="221.5" y1="1586.9238" y2="1599.9238"/><line style="stroke:#181818;stroke-width:1.0;" x1="180.5" x2="221.5" y1="1599.9238" y2="1599.9238"/><polygon fill="#181818" points="190.5,1595.9238,180.5,1599.9238,190.5,1603.9238,186.5,1599.9238" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="186.5" y="1551.5605">is obj name more than</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="186.5" y="1566.8711">shard obj name?</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="186.5" y="1582.1816">yes</text><polygon fill="#181818" points="559.5,1640.5449,569.5,1644.5449,559.5,1648.5449,563.5,1644.5449" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="565.5" y1="1644.5449" y2="1644.5449"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="186.5" y="1624.4922">delete obj if exists</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="186.5" y="1639.8027">(only if sharding in progress)</text><polygon fill="#181818" points="680.5,1669.8555,690.5,1673.8555,680.5,1677.8555,684.5,1673.8555" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="686.5" y1="1673.8555" y2="1673.8555"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="62" x="186.5" y="1669.1133">delete obj</text><polygon fill="#181818" points="190.5,1699.166,180.5,1703.166,190.5,1707.166,186.5,1703.166" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="184.5" x2="691.5" y1="1703.166" y2="1703.166"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="112" x="196.5" y="1698.4238">write response ok</text><polygon fill="#181818" points="950.5,1728.4766,960.5,1732.4766,950.5,1736.4766,954.5,1732.4766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="956.5" y1="1732.4766" y2="1732.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="186.5" y="1727.7344">update s1 shard obj count</text><polygon fill="#181818" points="67.5,1757.7871,57.5,1761.7871,67.5,1765.7871,63.5,1761.7871" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="61.5" x2="178.5" y1="1761.7871" y2="1761.7871"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="73.5" y="1757.0449">return response</text><path d="M10,1783.7871 L272,1783.7871 L272,1791.0977 L262,1801.0977 L10,1801.0977 L10,1783.7871 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="250.7949" style="stroke:#000000;stroke-width:1.5;" width="997" x="10" y="1783.7871"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="217" x="25" y="1797.3555">read while sharding in progress</text><polygon fill="#181818" points="167.5,1818.4082,177.5,1822.4082,167.5,1826.4082,171.5,1822.4082" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="56.5" x2="173.5" y1="1822.4082" y2="1822.4082"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="63.5" y="1817.666">read request</text><polygon fill="#181818" points="950.5,1847.7188,960.5,1851.7188,950.5,1855.7188,954.5,1851.7188" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="956.5" y1="1851.7188" y2="1851.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="271" x="186.5" y="1846.9766">is bucket sharded? is sharding in progress?</text><polygon fill="#181818" points="190.5,1877.0293,180.5,1881.0293,190.5,1885.0293,186.5,1881.0293" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="184.5" x2="961.5" y1="1881.0293" y2="1881.0293"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="196.5" y="1876.2871">yes yes</text><polygon fill="#181818" points="559.5,1921.6504,569.5,1925.6504,559.5,1929.6504,563.5,1925.6504" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="565.5" y1="1925.6504" y2="1925.6504"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="109" x="186.5" y="1905.5977">head obj if exists</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182" x="186.5" y="1920.9082">(only if sharding in progress)</text><polygon fill="#181818" points="680.5,1950.9609,690.5,1954.9609,680.5,1958.9609,684.5,1954.9609" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="686.5" y1="1954.9609" y2="1954.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="186.5" y="1950.2188">head obj</text><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="221.5" y1="1984.2715" y2="1984.2715"/><line style="stroke:#181818;stroke-width:1.0;" x1="221.5" x2="221.5" y1="1984.2715" y2="1997.2715"/><line style="stroke:#181818;stroke-width:1.0;" x1="180.5" x2="221.5" y1="1997.2715" y2="1997.2715"/><polygon fill="#181818" points="190.5,1993.2715,180.5,1997.2715,190.5,2001.2715,186.5,1997.2715" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="284" x="186.5" y="1979.5293">compare creation date and forward to newest</text><polygon fill="#181818" points="680.5,2022.582,690.5,2026.582,680.5,2030.582,684.5,2026.582" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="686.5" y1="2026.582" y2="2026.582"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="186.5" y="2021.8398">forward read req</text><path d="M10,2048.582 L225,2048.582 L225,2055.8926 L215,2065.8926 L10,2065.8926 L10,2048.582 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="266.1055" style="stroke:#000000;stroke-width:1.5;" width="997" x="10" y="2048.582"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="170" x="25" y="2062.1504">read after sharding done</text><polygon fill="#181818" points="167.5,2083.2031,177.5,2087.2031,167.5,2091.2031,171.5,2087.2031" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="56.5" x2="173.5" y1="2087.2031" y2="2087.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="78" x="63.5" y="2082.4609">read request</text><polygon fill="#181818" points="950.5,2112.5137,960.5,2116.5137,950.5,2120.5137,954.5,2116.5137" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="956.5" y1="2116.5137" y2="2116.5137"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="186.5" y="2111.7715">is bucket sharded?</text><polygon fill="#181818" points="190.5,2141.8242,180.5,2145.8242,190.5,2149.8242,186.5,2145.8242" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="184.5" x2="961.5" y1="2145.8242" y2="2145.8242"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="196.5" y="2141.082">yes shard starts from obj name ''</text><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="221.5" y1="2205.7559" y2="2205.7559"/><line style="stroke:#181818;stroke-width:1.0;" x1="221.5" x2="221.5" y1="2205.7559" y2="2218.7559"/><line style="stroke:#181818;stroke-width:1.0;" x1="180.5" x2="221.5" y1="2218.7559" y2="2218.7559"/><polygon fill="#181818" points="190.5,2214.7559,180.5,2218.7559,190.5,2222.7559,186.5,2218.7559" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="141" x="186.5" y="2170.3926">is obj name more than</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="102" x="186.5" y="2185.7031">shard obj name?</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="186.5" y="2201.0137">yes</text><polygon fill="#181818" points="680.5,2244.0664,690.5,2248.0664,680.5,2252.0664,684.5,2248.0664" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="686.5" y1="2248.0664" y2="2248.0664"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="103" x="186.5" y="2243.3242">forward read req</text><polygon fill="#181818" points="190.5,2273.377,180.5,2277.377,190.5,2281.377,186.5,2277.377" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="184.5" x2="691.5" y1="2277.377" y2="2277.377"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="196.5" y="2272.6348">read response ok</text><polygon fill="#181818" points="67.5,2302.6875,57.5,2306.6875,67.5,2310.6875,63.5,2306.6875" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="61.5" x2="178.5" y1="2306.6875" y2="2306.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="73.5" y="2301.9453">return response</text><path d="M10,2328.6875 L266,2328.6875 L266,2335.998 L256,2345.998 L10,2345.998 L10,2328.6875 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="382.3477" style="stroke:#000000;stroke-width:1.5;" width="997" x="10" y="2328.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="211" x="25" y="2342.2559">list objects after sharding done</text><polygon fill="#181818" points="167.5,2363.3086,177.5,2367.3086,167.5,2371.3086,171.5,2367.3086" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="56.5" x2="173.5" y1="2367.3086" y2="2367.3086"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="63.5" y="2362.5664">list request</text><polygon fill="#181818" points="950.5,2392.6191,960.5,2396.6191,950.5,2400.6191,954.5,2396.6191" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="956.5" y1="2396.6191" y2="2396.6191"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117" x="186.5" y="2391.877">is bucket sharded?</text><polygon fill="#181818" points="190.5,2421.9297,180.5,2425.9297,190.5,2429.9297,186.5,2425.9297" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="184.5" x2="961.5" y1="2425.9297" y2="2425.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="206" x="196.5" y="2421.1875">yes shard starts from obj name ''</text><polygon fill="#181818" points="559.5,2451.2402,569.5,2455.2402,559.5,2459.2402,563.5,2455.2402" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="565.5" y1="2455.2402" y2="2455.2402"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96" x="186.5" y="2450.498">forward list req</text><polygon fill="#181818" points="190.5,2480.5508,180.5,2484.5508,190.5,2488.5508,186.5,2484.5508" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="184.5" x2="570.5" y1="2484.5508" y2="2484.5508"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="196.5" y="2479.8086">list resp</text><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="221.5" y1="2559.793" y2="2559.793"/><line style="stroke:#181818;stroke-width:1.0;" x1="221.5" x2="221.5" y1="2559.793" y2="2572.793"/><line style="stroke:#181818;stroke-width:1.0;" x1="180.5" x2="221.5" y1="2572.793" y2="2572.793"/><polygon fill="#181818" points="190.5,2568.793,180.5,2572.793,190.5,2576.793,186.5,2572.793" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="135" x="186.5" y="2509.1191">check if the last page</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="186.5" y="2524.4297">yes</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="165" x="186.5" y="2539.7402">define next shard if exists</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="21" x="186.5" y="2555.0508">yes</text><polygon fill="#181818" points="680.5,2598.1035,690.5,2602.1035,680.5,2606.1035,684.5,2602.1035" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="686.5" y1="2602.1035" y2="2602.1035"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="64" x="186.5" y="2597.3613">do list req</text><polygon fill="#181818" points="190.5,2627.4141,180.5,2631.4141,190.5,2635.4141,186.5,2631.4141" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="184.5" x2="691.5" y1="2631.4141" y2="2631.4141"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="196.5" y="2626.6719">list resp</text><line style="stroke:#181818;stroke-width:1.0;" x1="179.5" x2="221.5" y1="2660.7246" y2="2660.7246"/><line style="stroke:#181818;stroke-width:1.0;" x1="221.5" x2="221.5" y1="2660.7246" y2="2673.7246"/><line style="stroke:#181818;stroke-width:1.0;" x1="180.5" x2="221.5" y1="2673.7246" y2="2673.7246"/><polygon fill="#181818" points="190.5,2669.7246,180.5,2673.7246,190.5,2677.7246,186.5,2673.7246" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="70" x="186.5" y="2655.9824">merge lists</text><polygon fill="#181818" points="67.5,2699.0352,57.5,2703.0352,67.5,2707.0352,63.5,2703.0352" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="61.5" x2="178.5" y1="2703.0352" y2="2703.0352"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="73.5" y="2698.293">return response</text><!--SRC=[nLTDRzim3BtdLn3jeHlGD4XwQWuTXct5BiC6RC0kliWM7Mjn94-IaURVZ_hoHvmEwOPkbzIMI8hlyP5ohR0rmiMxIkdMGAFLum7ojjYY1LCnpONSNCnchB1AarLhhDgXlW1ce8WliuPfAmhHC6bJe4n-SP6yNOXvUNVty71tDpR-UXlFokHLUBZoBZbSFZoyNTtUFc4UKfilExUvMGPFi_ozAyZWkZhXkkfSERCiPmPxE9_GChVgBNVqCllPOai6tvZPPjA_-3t_T9gIxqfl8tTx_zYHCfjjj6eR45BO6GJ6vlVv6eeAYos8Ck76Hs6iwKtCSWq6cIwgG0bHrvMlqLYAnu7jwWnRivhVU_irI1NjnXcfbZ2f_0SMFf6yimyx6asZfC7UoR559vE0C1tdJMSeUGAkaV75NWkB2uurqf-QW4AEfVDAGWHRKVXArPoY9_brv-l5Vi4NDSMY6XXxd80m8_4WVqCMRci0U8IKMFSP0LSEBtpyyFOzM0MSCXEoy2H0sv0g44gjTlwz82JMWPUAbhNOL1PYUC6HqiXRKNF8QqKEfQWjgO1YQkHjWVqn1QlhCUzJTFa9vAUvxv1G3mTwYKcKANcVjwz8vvV8fTXeMotxq8EYJSi2geJKoAwc95y-Gk6h6iNZS6zSwqksG-UvGowOZDjZZGTQWO74VIhZNbXISbkEH4vdK4nVrsjMrDTeYvkRcwDWgZa42w2vTWt7DaF1zZc1JvDwjnGwW70vqxpnD6J43IdBCajJj2D6I1TpG-mCYkadn1em38rW39R629c4kT3PS0msHxk9I199HoOTJIE7plHI36bF0qOUpK4M7e7rqukQ35ont1BvUDlvVN1TE_axnZwJEGc9T1sda4F7IOgP9FSG-9jnRLO7kEdeI6VYX2k9OonHaX4DiD8rHKGma5kGSDWzRo84Zp-U1mUCfGpachxBlHIktEzL7pQrkUbDTav2jc8o2zTEj_CcanHzB4kgmjxPT5cxSRoSW0bz26fx32XsSrBa7xTrAiSpY8ukPpFjbauroQaIN8UVVrI8Neugw3reFPElbAmFRk5Ktg_7bUmZ_ASIkkiKzfMeyQbPDBqzdSkB512E2QxSKNz1R_AVLBnGE_hmmZ2CXABnv2yDoRlUeYk7Rf0Hn67h9H8cN1urGvnXVqdYS-VD2yoQ3l18ft7rX4pFKj_eaZ-JEU_pBvZBU_3fpD6tL5mqpLHTwLkSlfsWPcJMi0rwSZF9wVjPqdyN-1Yp78fxGZzTgOF31ym_VJgHjK6_Ryuinoy0]--></g></svg>